@page "/projects"
@using MeirellescPortfolio.Components
@using MeirellescPortfolio.Models


<PageTitle>@StringLocalizer?["Title_Projects"]</PageTitle>

<CascadingValue Name="HeaderTitle" Value="@StringLocalizer?["Projects_Header_Title"]">
    <CascadingValue Name="HeaderSubtitle" Value="@StringLocalizer?["Projects_Header_Subtitle"]">
        <HeaderCmpnt />
    </CascadingValue>
</CascadingValue>

<MudGrid>
    @if (_projects == null || _projects.Count <= 0)
    {
        <MudText Typo="Typo.h5">@StringLocalizer?["Loading"]</MudText>
    }
    else
    {
        @foreach (var project in _projects)
        {
            <MudItem xs="12" sm="6" md="4">

                <MudCard Elevation="6"
                         Class="cursor-pointer"
                         onclick="@(() => OnCardClick(@project.AddressPath))">

                    <MudCardHeader Style="height: 70px">
                        <CardHeaderAvatar>
                            @if(project.ProjectType == ProjectType.Game)
                            {
                                <MudIcon Icon="@Icons.Material.Outlined.VideogameAsset" />
                            }
                            else
                            {
                                <MudIcon Icon="@Icons.Material.Outlined.WebStories" />
                            }
                            
                        </CardHeaderAvatar>

                        <CardHeaderContent>
                            <MudItem Class="d-flex flex-column">
                                <MudText Typo="Typo.body2">@project.GameTitle</MudText>
                                <MudText Typo="Typo.overline">@project.ProjectType</MudText>
                            </MudItem>
                        </CardHeaderContent>

                        <CardHeaderActions>
                            <MudIconButton Icon="@Icons.Material.Outlined.ReadMore"
                                           Color="Color.Info"
                                           OnClick="@(() => OnCardClick(@project.AddressPath))" />
                        </CardHeaderActions>

                    </MudCardHeader>

                    <MudCardMedia Image="@project.ImagePath" Height="250" />

                </MudCard>

            </MudItem>
        }
    }

</MudGrid>

<FooterCmpnt />
